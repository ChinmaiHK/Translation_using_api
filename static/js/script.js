
const fromText = document.querySelector(".from-text");
toText = document.querySelector(".from-to");
selectTag = document.querySelector("select"),
answerBtn = document.querySelector("button");

for(const country_code in countries){
    let newOption = new Option(countries[country_code], country_code);
    selectTag.add(newOption);
}

function apiGen( translateData,  translateFrom, translateTo){
        let apiUrl = `https://api.mymemory.translated.net/get?q=${translateData}&langpair=${translateFrom}|${translateTo}`;
        return apiUrl;
    }

answerBtn.addEventListener("click", () => {
    //fetching api response and returning it with parsing into js obj
        //and in another then method recieving that obj
    let query = fromText.value;
    if( selectTag.value != "en-GB"){
    apiUrl = apiGen(query, selectTag.value, "en-GB");
    fetch(apiUrl).then(res =>res.json()).then(data => {
        engTranslate =  data.responseData.translatedText;//Here the question from any language is translated to english and stored in engTransalte. Should use setter methods access the value of engTranslate
    });
    }
    engAns = "Here the answer to the query will be recieved";//Here the answer generated by the chatbot in english is stored in engAns. Should use getter method to insert the value into engAns
    if(selectTag.value != "en-GB"){
    apiUrl = apiGen(engAns,"en-GB", selectTag.value);
    fetch(apiUrl).then(response => response.json()).then(newData => {
        toText.value = newData.responseData.translatedText;
    })
    }
    else{
        toText.value = engAns;
    }
});
